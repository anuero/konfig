
=begin
Конфигурация для расчёта финансовых показателей проекта.
Включает расчёт прибыли, рентабельности и налоговых отчислений.
=end

; --- Базовые финансовые параметры ---
def initial_investment = 1000000    ; Начальные инвестиции (руб)
def revenue = 1500000               ; Выручка (руб)
def costs = 800000                  ; Расходы (руб)
def tax_rate = 20                   ; Ставка налога (%)

; --- Дополнительные параметры ---
def months = 12                     ; Период (месяцы)
def employees = 25                  ; Количество сотрудников

; --- Расчёт основных показателей ---

; Прибыль = Выручка - Расходы
.[revenue - costs].

; Налог = Прибыль * Ставка / 100
.[revenue - costs * tax_rate / 100].

; Чистая прибыль = Прибыль - Налог
.[revenue - costs - revenue - costs * tax_rate / 100].

; Рентабельность инвестиций (ROI) = (Прибыль / Инвестиции) * 100
.[revenue - costs / initial_investment * 100].

; --- Распределение бюджета ---
(
    initial_investment,
    revenue,
    costs,
    .[revenue - costs].,              ; Валовая прибыль
    .[revenue - costs / months].      ; Прибыль в месяц
)

; --- Расчёт зарплатного фонда ---
def average_salary = 80000

(
    employees,
    average_salary,
    .[employees * average_salary].,        ; Месячный ФОТ
    .[employees * average_salary * months]. ; Годовой ФОТ
)

; --- Квартальные показатели ---
def quarter_months = 3

(
    .[revenue / months * quarter_months].,    ; Выручка за квартал
    .[costs / months * quarter_months].,      ; Расходы за квартал
    .[revenue - costs / months * quarter_months]. ; Прибыль за квартал
)

; --- Метрики эффективности ---
(
    .[revenue / employees].,           ; Выручка на сотрудника
    .[revenue / costs].,               ; Коэффициент прибыльности
    .[len((1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12))]., ; Число месяцев
    .[initial_investment / employees]. ; Инвестиции на сотрудника
)